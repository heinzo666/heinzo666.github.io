<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grouped Outputs Viewer</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .group { border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; }
    img { max-width: 200px; display: block; margin-bottom: 5px; }
    pre { background: #f0f0f0; padding: 10px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Grouped Outputs Viewer</h1>
  <div id="container"></div>

  <script>
    fetch('filelist.json')
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('container');

        for (const [group, files] of Object.entries(data)) {
          const div = document.createElement('div');
          div.className = 'group';
          div.innerHTML = `<h2>Group: ${group}</h2>`;

          // Training images
          files.training.forEach(filename => {
            const img = document.createElement('img');
            img.src = `https://raw.githubusercontent.com/heinzo666/training/main/outputs/${filename}`;
            div.appendChild(img);
          });

          // Initmask I and M images
          files.initmask.forEach(filename => {
            const img = document.createElement('img');
            img.src = `https://raw.githubusercontent.com/heinzo666/initmask/main/outputs/${filename}`;
            div.appendChild(img);
          });

          // Text content
          files.text.forEach(filename => {
            fetch(`https://raw.githubusercontent.com/heinzo666/text/main/outputs/${filename}`)
              .then(resp => resp.text())
              .then(txt => {
                const pre = document.createElement('pre');
                pre.textContent = txt;
                div.appendChild(pre);
              });
          });

          container.appendChild(div);
        }
      });
  </script>
</body>
</html>
